<!DOCTYPE html><html data-pathToRoot="../" data-rawLocation="smfsb/Mll$" data-dynamicSideMenu="false"><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta><title>Mll</title><link rel="shortcut icon" type="image/x-icon" href="../favicon.ico"></link><script type="text/javascript" src="../scripts/theme.js"></script><script type="text/javascript" src="../scripts/searchData.js" defer="true"></script><script type="text/javascript" src="../scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="../styles/theme/bundle.css"></link><link rel="stylesheet" href="../styles/theme/components/bundle.css"></link><link rel="stylesheet" href="../styles/theme/components/button/bundle.css"></link><link rel="stylesheet" href="../styles/theme/layout/bundle.css"></link><link rel="stylesheet" href="../styles/nord-light.css"></link><link rel="stylesheet" href="../styles/dotty-icons.css"></link><link rel="stylesheet" href="../styles/filter-bar.css"></link><link rel="stylesheet" href="../styles/code-snippets.css"></link><link rel="stylesheet" href="../styles/searchbar.css"></link><link rel="stylesheet" href="../styles/social-links.css"></link><link rel="stylesheet" href="../styles/versions-dropdown.css"></link><link rel="stylesheet" href="../styles/content-contributors.css"></link><link rel="stylesheet" href="../styles/fontawesome.css"></link><script type="text/javascript" src="../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="../scripts/contributors.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="../scripts/data.js" defer="true"></script><link rel="stylesheet" href="../styles/apistyles.css"></link><script>var pathToRoot = "../";</script></head><body><div id=""><div id="header" class="body-small"><div class="header-container-left"><a href="../" class="logo-container"><span class="project-name h300">scala-smfsb</span></a><span onclick="dropdownHandler(event)" class="text-button with-arrow" id="dropdown-trigger"><a></a></span><div id="version-dropdown" class="dropdown-menu"></div></div><div class="header-container-right"><button id="search-toggle" class="icon-button"></button><span id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle" class="icon-button hamburger"></span></div></div><div id="mobile-menu"><div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span class="project-name h300">scala-smfsb</span></span><button id="mobile-menu-close" class="icon-button close"></button></div><div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input" class="scaladoc-searchbar-input" type="search" placeholder="Find anything"></input><span id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div></div><span id="mobile-sidebar-toggle" class="floating-button"></span><div id="leftColumn" class="body-small"><div class="switcher-container"><a id="api-nav-button" class="switcher h100 selected" href="../index.html">API</a></div><nav id="api-nav" class="side-menu"><div class="ni n0 expanded"><span class="nh h100 expanded cs"><button class="ar icon-button expanded"></button><a href="../smfsb.html"><span class="micon pa"></span><span>smfsb</span></a></span><div class="ni n1 "><span class="nh "><a href="Abc$.html"><span class="micon ob"></span><span>Abc</span></a></span></div><div class="ni n1 "><span class="nh "><a href="CsvRow.html"><span class="micon tr"></span><span>CsvRow</span></a></span></div><div class="ni n1 "><span class="nh "><a href="CsvRowSyntax.html"><span class="micon cl"></span><span>CsvRowSyntax</span></a></span></div><div class="ni n1 "><span class="nh "><a href="DataSet.html"><span class="micon tr"></span><span>DataSet</span></a></span></div><div class="ni n1 "><span class="nh "><a href="MarkedSpn.html"><span class="micon cl"></span><span>MarkedSpn</span></a></span></div><div class="ni n1 "><span class="nh "><a href="Mcmc$.html"><span class="micon ob"></span><span>Mcmc</span></a></span></div><div class="ni n1 expanded"><span class="nh h100 selected"><a href="#"><span class="micon ob"></span><span>Mll</span></a></span></div><div class="ni n1 "><span class="nh "><a href="PMatrix.html"><span class="micon cl"></span><span>PMatrix</span></a></span></div><div class="ni n1 "><span class="nh "><a href="PMatrix$.html"><span class="micon ob"></span><span>PMatrix</span></a></span></div><div class="ni n1 "><span class="nh "><a href="PVector.html"><span class="micon cl"></span><span>PVector</span></a></span></div><div class="ni n1 "><span class="nh "><a href="Sim$.html"><span class="micon ob"></span><span>Sim</span></a></span></div><div class="ni n1 "><span class="nh "><a href="Spatial$.html"><span class="micon ob"></span><span>Spatial</span></a></span></div><div class="ni n1 "><span class="nh "><a href="Spn.html"><span class="micon tr"></span><span>Spn</span></a></span></div><div class="ni n1 "><span class="nh "><a href="SpnModels$.html"><span class="micon ob"></span><span>SpnModels</span></a></span></div><div class="ni n1 "><span class="nh "><a href="State.html"><span class="micon tr"></span><span>State</span></a></span></div><div class="ni n1 "><span class="nh "><a href="Step$.html"><span class="micon ob"></span><span>Step</span></a></span></div><div class="ni n1 "><span class="nh "><a href="Thinnable.html"><span class="micon tr"></span><span>Thinnable</span></a></span></div><div class="ni n1 "><span class="nh "><a href="ThinnableSyntax.html"><span class="micon cl"></span><span>ThinnableSyntax</span></a></span></div><div class="ni n1 "><span class="nh "><a href="UnmarkedSpn.html"><span class="micon cl"></span><span>UnmarkedSpn</span></a></span></div></div></nav></div><div id="footer" class="body-small"><div class="left-container">Generated with</div><div class="right-container"><div class="text"></div></div><div class="text-mobile"></div></div><div id="scaladoc-searchBar"></div><div id="main"><div class="breadcrumbs container"><a href="../index.html">scala-smfsb</a>/<a href="../smfsb.html">smfsb</a>/<a href="Mll$.html">Mll</a></div><div id="content" class="body-medium"><div><div class="cover-header">
 <span class="icon"><span class="micon ob"></span></span>
 <h1 class="h600 single">Mll</h1>
</div>
<div class="fqname body-large">
 <span>smfsb.Mll</span>
</div>
<div class="main-signature mono-small-block">
 <div class="signature">
  <span class="modifiers"></span><span class="kind"><span t="k">object </span></span><a href="Mll$.html" t="n" class="documentableName ">Mll</a>
 </div>
</div>
<div class="cover">
 <div class="doc">
  <p>Functions associated with particle filtering of Markov process models against time series data and the computation of marginal model likelihoods.</p>
 </div>
 <section id="attributes">
  <h2 class="h500">Attributes</h2>
  <dl class="attributes">
   <dt class="body-small">
    Graph
   </dt>
   <dd class="body-medium">
    <div id="inheritance-diagram" class="diagram-class showGraph">
     <button type="button" class="label-only-button" onclick="zoomOut()">Reset zoom</button><button type="button" class="label-only-button" onclick="hideGraph()">Hide graph</button><button type="button" class="label-only-button" onclick="showGraph()">Show graph</button>
     <svg id="graph"></svg>
     <script type="text/dot" id="dot"> digraph g {
 node0 [id=node0, label="<span style=\"color: #FFFFFF;\">object <a href=\"Mll$.html\" t=\"n\">Mll</a></span>", class="object vertex"];
node1 [id=node1, label="<span style=\"color: #FFFFFF;\">class <span data-unresolved-link=\"\" t=\"n\">Object</span></span>", class="class vertex"];
node2 [id=node2, label="<span style=\"color: #FFFFFF;\">class <span data-unresolved-link=\"\" t=\"n\">Any</span></span>", class="class vertex"];
node3 [id=node3, label="<span style=\"color: #FFFFFF;\">trait <span data-unresolved-link=\"\" t=\"n\">Matchable</span></span>", class="trait vertex"];


 node0 -> node1;
node1 -> node2;
node1 -> node3;
node3 -> node2;

}
</script>
    </div>
   </dd>
   <dt class="body-small">
    Supertypes
   </dt>
   <dd class="body-medium">
    <div class="mono-small-block supertypes">
     <div>
      class <span data-unresolved-link="" t="n">Object</span>
     </div>
     <div>
      trait <span data-unresolved-link="" t="n">Matchable</span>
     </div>
     <div>
      class <span data-unresolved-link="" t="n">Any</span>
     </div><span></span>
    </div>
   </dd>
   <dt class="body-small">
    Self type
   </dt>
   <dd class="body-medium">
    <div class="mono-small-block supertypes">
     <span></span>
     <div>
      <a href="Mll$.html" t="n">Mll</a>.<span t="k">type</span>
     </div>
    </div>
   </dd>
  </dl>
 </section>
</div>
<section id="members-list">
 <h2 class="h500">Members list</h2>
 <div class="documentableFilter">
  <div class="filtersContainer"></div><input class="filterableInput" placeholder="Filter by any phrase" data-test-id="filterBarInput" type="search"><button class="clearButton label-only-button" data-test-id="filterBarClearButton">Clear all</button>
 </div>
 <div class="membersList expand">
  <div class="tabs">
   <div class="contents">
    <section id="Value-members">
     <div data-togglable="Value members" class="tab expand">
      <div class="member-group-header">
       <h3 data-togglable="Value members" class="h400">Value members</h3>
      </div>
      <section id="Concrete-methods">
       <div class="documentableList expand">
        <div class="documentableList-expander">
         <button class="icon-button show-content expand"></button>
         <h4 class="groupHeader h200">Concrete methods</h4>
        </div>
        <div class="documentableElement" id="bpf-fffff13c">
         <div class="documentableElement-expander">
          <button class="icon-button ar show-content"></button>
          <div class="header monospace mono-medium">
           <div class="signature">
            <span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="Mll$.html#bpf-fffff13c" t="n" class="documentableName ">bpf</a>[<span t="k"></span><span data-unresolved-link="" t="t">S</span> : <a href="State.html" t="t">State</a>, <span t="k"></span><span data-unresolved-link="" t="t">O</span>](<span t="k"></span><span t="k"></span><span data-unresolved-link="" t="n">x0</span>: <span data-unresolved-link="" t="t">Vector</span>[<span t="t">S</span>], <span t="k"></span><span data-unresolved-link="" t="n">t0</span>: <a href="../smfsb.html#Time-0" t="t">Time</a>, <span t="k"></span><span data-unresolved-link="" t="n">data</span>: <a href="../smfsb.html#Ts-0" t="t">Ts</a>[<span t="t">O</span>], <span t="k"></span><span data-unresolved-link="" t="n">dataLik</span>: (<span t="t">S</span>, <span t="t">O</span>)<span t="k"> =&gt; </span><a href="../smfsb.html#LogLik-0" t="t">LogLik</a>, <span t="k"></span><span data-unresolved-link="" t="n">stepFun</span>: (<span t="t">S</span>, <a href="../smfsb.html#Time-0" t="t">Time</a>, <a href="../smfsb.html#Time-0" t="t">Time</a>)<span t="k"> =&gt; </span><span t="t">S</span>): (<a href="../smfsb.html#LogLik-0" t="t">LogLik</a>, <a href="../smfsb.html#Time-0" t="t">Time</a>, <span data-unresolved-link="" t="t">Vector</span>[<span data-unresolved-link="" t="t">S</span>])
           </div>
          </div>
         </div>
         <div class="docs">
          <span class="modifiers"></span>
          <div>
           <div class="originInfo"></div>
           <div class="memberDocumentation">
            <div class="documentableBrief doc">
             <p>A simple bootstrap particle filter with multinomial resampling. Note that it supports time series of observations on irregular time grids. Note that this is the function which does most of the work for <code>pfMll</code>.</p>
            </div>
            <div class="cover">
             <div class="doc">
              <p>A simple bootstrap particle filter with multinomial resampling. Note that it supports time series of observations on irregular time grids. Note that this is the function which does most of the work for <code>pfMll</code>.</p>
             </div>
             <h2 class="h200">Value parameters</h2>
             <dl class="attributes attributes-small">
              <dt class="body-small">
               data
              </dt>
              <dd class="body-medium">
               <p>The observed data in the form of a time series</p>
              </dd>
              <dt class="body-small">
               dataLik
              </dt>
              <dd class="body-medium">
               <p>The log-likelihood of the observation model</p>
              </dd>
              <dt class="body-small">
               stepFun
              </dt>
              <dd class="body-medium">
               <p>The transition kernel of the underlying process</p>
              </dd>
              <dt class="body-small">
               t0
              </dt>
              <dd class="body-medium">
               <p>The time corresponding to the prior sample</p>
              </dd>
              <dt class="body-small">
               x0
              </dt>
              <dd class="body-medium">
               <p>A sample from the prior on the state at time <code>t0</code>. The size of the sample determines the number of particles used in the particle filter.</p>
              </dd>
             </dl>
             <h2 class="h200">Attributes</h2>
             <dl class="attributes attributes-small">
              <dt class="body-small">
               Returns
              </dt>
              <dd class="body-medium">
               <p>A triple: the first element is the log of an unbiased estimate of the marginal likelihood of the model, the second is just the final time point, and the third is a sample from the posterior distribution of the final time point.</p>
              </dd>
             </dl>
            </div>
           </div>
          </div>
         </div>
        </div>
        <div class="documentableElement" id="pfMll-c22">
         <div class="documentableElement-expander">
          <button class="icon-button ar show-content"></button>
          <div class="header monospace mono-medium">
           <div class="signature">
            <span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="Mll$.html#pfMll-c22" t="n" class="documentableName ">pfMll</a>[<span t="k"></span><span data-unresolved-link="" t="t">P</span>, <span t="k"></span><span data-unresolved-link="" t="t">S</span> : <a href="State.html" t="t">State</a>, <span t="k"></span><span data-unresolved-link="" t="t">O</span>](<span t="k"></span><span t="k"></span><span data-unresolved-link="" t="n">simX0</span>: <span t="t">P</span><span t="k"> =&gt; </span><span data-unresolved-link="" t="t">Vector</span>[<span t="t">S</span>], <span t="k"></span><span data-unresolved-link="" t="n">t0</span>: <a href="../smfsb.html#Time-0" t="t">Time</a>, <span t="k"></span><span data-unresolved-link="" t="n">stepFun</span>: <span t="t">P</span><span t="k"> =&gt; </span>(<span t="t">S</span>, <a href="../smfsb.html#Time-0" t="t">Time</a>, <a href="../smfsb.html#Time-0" t="t">Time</a>)<span t="k"> =&gt; </span><span t="t">S</span>, <span t="k"></span><span data-unresolved-link="" t="n">dataLik</span>: <span t="t">P</span><span t="k"> =&gt; </span>(<span t="t">S</span>, <span t="t">O</span>)<span t="k"> =&gt; </span><a href="../smfsb.html#LogLik-0" t="t">LogLik</a>, <span t="k"></span><span data-unresolved-link="" t="n">data</span>: <a href="../smfsb.html#Ts-0" t="t">Ts</a>[<span t="t">O</span>]): <span data-unresolved-link="" t="t">P</span><span t="k"> =&gt; </span><a href="../smfsb.html#LogLik-0" t="t">LogLik</a>
           </div>
          </div>
         </div>
         <div class="docs">
          <span class="modifiers"></span>
          <div>
           <div class="originInfo"></div>
           <div class="memberDocumentation">
            <div class="documentableBrief doc">
             <p>A function for evaluating marginal log-likelihoods of parametrised models. It basically just threads a parameter value through the arguments required for <code>bpf</code>.</p>
            </div>
            <div class="cover">
             <div class="doc">
              <p>A function for evaluating marginal log-likelihoods of parametrised models. It basically just threads a parameter value through the arguments required for <code>bpf</code>.</p>
             </div>
             <h2 class="h200">Value parameters</h2>
             <dl class="attributes attributes-small">
              <dt class="body-small">
               data
              </dt>
              <dd class="body-medium">
               <p>The observed data in the form of a time series</p>
              </dd>
              <dt class="body-small">
               dataLik
              </dt>
              <dd class="body-medium">
               <p>A function, which when provided with a parameter value, will return the log-likelihood of the observation model</p>
              </dd>
              <dt class="body-small">
               simX0
              </dt>
              <dd class="body-medium">
               <p>A function which when provided with a parameter value will return a sample from the prior on the intial state of a Markov process model. The size of the sample will determine the number of particles used in the particle filter.</p>
              </dd>
              <dt class="body-small">
               stepFun
              </dt>
              <dd class="body-medium">
               <p>A function, which when provided with a parameter value, will return the transition kernel of a Markov process.</p>
              </dd>
              <dt class="body-small">
               t0
              </dt>
              <dd class="body-medium">
               <p>The intial time corresponding to the prior sample</p>
              </dd>
             </dl>
             <h2 class="h200">Attributes</h2>
             <dl class="attributes attributes-small"></dl>
            </div>
           </div>
          </div>
         </div>
        </div>
        <div class="documentableElement" id="sample-8cc">
         <div class="documentableElement-expander">
          <div class="header monospace mono-medium">
           <div class="signature">
            <span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="Mll$.html#sample-8cc" t="n" class="documentableName ">sample</a>(<span t="k"></span><span t="k"></span><span data-unresolved-link="" t="n">n</span>: <span data-unresolved-link="" t="t">Int</span>, <span t="k"></span><span data-unresolved-link="" t="n">prob</span>: <span data-unresolved-link="" t="t">DenseVector</span>[<span data-unresolved-link="" t="t">Double</span>]): <span data-unresolved-link="" t="t">Vector</span>[<span data-unresolved-link="" t="t">Int</span>]
           </div>
          </div>
         </div>
        </div>
       </div>
      </section>
     </div>
    </section>
   </div>
  </div>
 </div>
</section></div><div id="toc" class="body-small"><div id="toc-container"><span class="toc-title h200">In this article</span><nav class="toc-nav"><ul class="toc-list"><li><a href="#attributes">Attributes</a></li><li><a href="#members-list">Members list</a><ul><li><a href="#Value-members">Value members</a><ul><li><a href="#Concrete-methods">Concrete methods</a></li></ul></li></ul></li></ul></nav></div></div></div><div id="footer" class="body-small mobile-footer"><div class="left-container">Generated with</div><div class="right-container"><div class="text"></div></div><div class="text-mobile"></div></div></div></div></body></html>